{% extends '@Backend/Base/Base.html.twig' %}
{% block pagetitle %}{% endblock %}
{% block body %}
    <div class="ui tab segment active">
        <div class="ui sixteen column grid container">
            <div class="sixteen wide column">
                <div class="ui two column very relaxed grid">
                    <div class="ten wide column">
                        <table class="ui table compact collapsing striped">
                            <thead>
                            <tr>
                                <td>Datum</td>
                                <td>Omschrijving</td>
                                <td>&nbsp;</td>
                            </tr>
                            </thead>
                            <tbody>
                            {% for incident in incidents %}
                                <tr>
                                    <td>{{ incident.date|date('d-m-Y') }}</td>
                                    <td>{{ incident.title|length > 10 ? incident.title|slice(0, 10)~'..' : incident.title }}</td>
                                    <td>
                                        <div id="{{ incident.id }}" class="ui mini negative labeled icon button delete">
                                            <i class="remove icon"></i> Verwijderen
                                        </div>
                                    </td>
                                    <td>
                                        <div id="{{ incident.id }}" class="ui mini info labeled icon button view">
                                            <i class="folder open icon"></i> Bekijken
                                        </div>
                                    </td>
                                </tr>
                            {% endfor %}
                            </tbody>
                            <tfoot>
                            <tr>
                                <th>
                                    <a href="{{ path('backend_animal_incident_create', {'id' : app.request.attributes.get('id')}) }}">
                                        <div class="ui tiny positive labeled icon button">
                                            <i class="add square icon"></i> Incident toevoegen
                                        </div>
                                    </a>
                                </th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                    <div class="six wide column">
                        <div id="result"></div>
                    </div>
                </div>
                <div id="confirmmodal" class="ui basic modal">
                    <div class="ui icon header">
                        <i class="archive icon"></i>
                        Incident verwijderen
                    </div>
                    <div class="content">
                        <p>Weet u zeker dat u het incident wil verwijderen?</p>
                    </div>
                    <div class="actions">
                        <div class="ui red basic cancel inverted button">
                            <i class="remove icon"></i>
                        </div>
                        <div id="approve" class="ui green ok inverted button">
                            <i class="checkmark icon"></i>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/views/AnimalBundle/Incident/IncidentConfirmDelete.js') }}"></script>
    <script src="{{ asset('js/views/AnimalBundle/Incident/IncidentShow.js') }}"></script>
{% endblock %}