{% extends '@Backend/Base/Base.html.twig' %}
{% block pagetitle %}Alle dieren{% endblock %}
{% block body %}
    <table class="table table-hover">
        <thead>
        <tr>
            <td>&nbsp;</td>
            <td>Naam</td>
            <td>Soort</td>
            <td>Status</td>
            <td>Geslacht</td>
            <td>Leeftijd</td>
            <td>Chipnummer</td>
            <td>Open taken</td>
            <td>Zichtbaar publiek</td>
        </tr>
        </thead>
        <tbody>
        {% for animal in result %}
            <tr {% if animal.status is empty %} class="danger" {% endif %}>
                <td>
                    {% if animal.pictures is not empty %}
                        {% for picture in animal.pictures|slice(0,1) %}
                            <img src="{{ picture.publicurl }}" height="30" alt="animal_picture">
                        {% endfor %}
                    {% else %}
                        <img src="{{ asset('img/no_picture.jpg') }}" height="20" alt="no_animal_picture">
                    {% endif %}
                </td>
                <td><a href="{{ path('backend_animal_show', {'id' : animal.id}) }}">{{ animal.name }}</a></td>
                <td>{{ animal.getclassname|trans }}</td>

                {% if animal.status is empty %}
                    <td><a id="missingstatelink" href="{{ path('backend_animal_status_create', {'id' : animal.id}) }}">Aanmaken</a></td>
                {% else %}
                    {% for state in animal.status %}
                        {% if state.archived == false %}
                            <td>{{ state.getclassname|trans }}</td>
                        {% endif %}
                    {% endfor %}
                {% endif %}
                <td>{{ outputGender(animal.gender) }}</td>
                <td>{{ animal.age }}</td>
                <td>{{ animal.chipnumber }}</td>
                <td><a href="#">
                        {% if animal.openTasks(animal.tasks) %}<span class="text-alert">Ja</span>{% endif %}
                    </a></td>
                <td>{{ outputBool(animal.visiblePublic) }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}